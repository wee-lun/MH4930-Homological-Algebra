\newpage

\section{Injective, Projective, and Flat Modules}
\subsection{Short Exact Sequence and Splitting}

\begin{defn} [Exact sequence and complex]
    \hfill
    \begin{enumerate}
        \item A pair of $R$-module homomorphism
        \[X\xrightarrow{\alpha}Y\xrightarrow{\beta} Z\]
        is said to be exact at $Y$ if $\ker \beta = \im \alpha$, and we say that this sequence is exact.
        \item A complex is a chain 
        \[\dots \xrightarrow{d_{-2}}X_{-1}\xrightarrow{d_{=1}}X_0 \xrightarrow{d_0}X_1\xrightarrow{d_1}\dots\]
        where $X_I$ are $R$-modules, and $d_i$ are $R$-modules homomorphisms such that $d_{i+1}d_i=0$ for all $i$. In other words, we have that $\im d_i \subseteq \ker d_{i+1}$
        \item A complex is said to be exact if it is exact at every $X_i$.
    \end{enumerate}
\end{defn}

\medskip

\begin{re}
    From the above definition we see that an exact sequence can be made into an exact complex by adding zeroes and zero maps.
\end{re}

\medskip

\begin{pro}
    \hfill
    \begin{enumerate}
        \item The sequence of $R$-modules $0\to X\xrightarrow{\alpha} Y$ is exact if and only if $\alpha$ is injective.
        \item The sequence $Y\xrightarrow{\beta}Z\to 0$ is exact if and only if $\beta$ is surjective.
    \end{enumerate}
\end{pro}
\begin{proof}
    For the first statement, first suppose that the sequence is exact. Then $\ker\alpha = \im 0 = \sbr{0}$, and thus $\alpha$ is injective. For the converse statement, suppose that $\alpha$ is injective, then $\ker\alpha = 0$. On the other hand, the map from $0$ to $X$ is a zero map. Together we have $\ker\alpha = 0=\im 0$, so the sequence is exact.

    For the second statement, first suppose that the sequence is exact. Then $\im \beta = \ker 0$. However, the zero map $0:Z\to 0$ sends everything to $0$, so the kernel is $Z$. Together we have $\im\beta = Z$, thus $\beta$ is surjective. For the converse statement, suppose that $\beta$ is surjective. Then $\im\beta = Z$. On the other hand, the map from $Z$ to $0$ is a zero map, so $\ker 0 = Z$. Together we have $\im \beta =Z=\ker 0$, so the sequence is exact.
\end{proof}

\begin{cor}
    The sequence $0\to X\xrightarrow{\alpha}Y\xrightarrow{\beta}Z\to 0$ is exact if and only if $\alpha$ is injective and $\beta$ is injective and $\im \alpha = \ker \beta$. 
\end{cor}

\medskip

\begin{re}
    In this case, we called such sequence a short exact sequence (SES). Moreover, note that
    \[Y/\im \alpha \cong Z\]
    in the SES.
\end{re}

\medskip

\begin{ex}
    \hfill
    \begin{enumerate}
        \item Let $\varphi:M\to N$ be a $R$-module homomorphism. Then we have the SES:
        \[0\to \ker \varphi\to M\to \im\varphi \to 0\]
        \item Let $M$ be a $R$-module and $S$ be a generating set of $M$. Then there exists a surjective $R$-homomorphism $\pi$ such that $F(S)\xrightarrow{\pi}M$. This is due to the universal property:
        \[\begin{tikzcd}[sep=small]
	s & S && {F(S)} & \bullet \\
	\\
	&&& M \\
	&&& s
	\arrow["\in"{description}, draw=none, from=1-1, to=1-2]
	\arrow[curve={height=-18pt}, from=1-1, to=1-5]
	\arrow[maps to, from=1-1, to=4-4]
	\arrow[from=1-2, to=1-4]
	\arrow[from=1-2, to=3-4]
	\arrow[dashed, two heads, from=1-4, to=3-4]
	\arrow[curve={height=-24pt}, maps to, from=1-5, to=4-4]
	\arrow["\in"{marking, allow upside down}, draw=none, from=4-4, to=3-4]
\end{tikzcd}\]
        If $M$ is finitely generated, then we can choose $S$ such that $n:=|S|<\infty$, and we have
        \[\bigoplus_n {_RR}\cong F(S) \xrightarrow{\pi} M\]
        An $R$-module $M\neq0$ is simple/irreducible if $M$ has only $0$ and $M$ as submodule. Let $M$ be simple and $0\neq m\in M$. Then
        \[0\neq Rm = \sbr{rm:r\in R} = M\]
        due to simplicity of $M$. This says that $\sbr{m}$ generates $M$, and so by above we have that $R$ surjects to $M$. This tells that simple $R$-module is quotient of the regular module. In general, every $R$-module is a quotient of a free module. We then obtain the SES:
        \[0\to \ker\pi \to F(S) \to M\to 0\]
    \end{enumerate}
\end{ex}

\medskip

\begin{defn} [Complex homomorphisms]
    Let $0\to X\to Y\to Z\to 0$ and $0\to X'\to Y'\to Z'\to 0$ be SES of $R$-modules. 
    \begin{enumerate}
        \item A homomorphism between the SES's is a collection of $R$-module homomorphisms $\gamma_1, \gamma_2, \gamma_3$ such that the following is commutative:
        \[\begin{tikzcd}[sep=small]
	0 && X && Y && Z && 0 \\
	\\
	0 && {X'} && {Y'} && {Z'} && 0
	\arrow[from=1-1, to=1-3]
	\arrow[from=1-3, to=1-5]
	\arrow["{\gamma_1}"', from=1-3, to=3-3]
	\arrow[from=1-5, to=1-7]
	\arrow["{\gamma_2}"', from=1-5, to=3-5]
	\arrow[from=1-7, to=1-9]
	\arrow["{\gamma_3}"', from=1-7, to=3-7]
	\arrow[from=3-1, to=3-3]
	\arrow[from=3-3, to=3-5]
	\arrow[from=3-5, to=3-7]
	\arrow[from=3-7, to=3-9]
\end{tikzcd}\]
    and we say that the complex homomorphism is an isomorphism if the collection $\gamma_1, \gamma_2, \gamma_3$ are isomorphisms.
    \item The SES $0\to X\to Y\to Z\to 0$ and $0\to X\to Y'\to Z\to 0$ are said to be equivalent if there exists an $R$-module isomorphism $g:Y\to Y'$ such that the following commutes:
    \[\begin{tikzcd}[sep=small]
	0 && X && Y && Z && 0 \\
	\\
	0 && X && {Y'} && Z && 0
	\arrow[from=1-1, to=1-3]
	\arrow[from=1-3, to=1-5]
	\arrow["\id"', from=1-3, to=3-3]
	\arrow[from=1-5, to=1-7]
	\arrow["g"', from=1-5, to=3-5]
	\arrow[from=1-7, to=1-9]
	\arrow["\id"', from=1-7, to=3-7]
	\arrow[from=3-1, to=3-3]
	\arrow[from=3-3, to=3-5]
	\arrow[from=3-5, to=3-7]
	\arrow[from=3-7, to=3-9]
\end{tikzcd}\]
    \end{enumerate}
\end{defn}

\begin{ex}
    Since there is no isomorphism between $\Z$ and $\Z\oplus \Z/n\Z$, thus the following SES must not be equivalent:
    \[0\to \Z \xrightarrow{\times n}\Z\xrightarrow{\bmod n}\Z/n\Z \to 0 \]
    and 
    \[0\to \Z\to \Z\oplus \Z/n\Z\to \Z/n\Z \to 0\]
\end{ex}

\begin{pro} [Five Lemma]
Suppose we have the following commutative diagram and suppose that each of the following rows are exact:
    \[\begin{tikzcd}[sep=small]
	{M_1} && {M_2} && {M_3} && {M_4} && {M_5} \\
	\\
	{N_1} && {N_2} && {N_3} && {N_4} && {N_5}
	\arrow["{g_1}", from=1-1, to=1-3]
	\arrow["{f_1}", from=1-1, to=3-1]
	\arrow["{g_2}", from=1-3, to=1-5]
	\arrow["{f_2}", from=1-3, to=3-3]
	\arrow["{g_3}", from=1-5, to=1-7]
	\arrow["{f_3}", from=1-5, to=3-5]
	\arrow["{g_4}", from=1-7, to=1-9]
	\arrow["{f_4}", from=1-7, to=3-7]
	\arrow["{f_5}", from=1-9, to=3-9]
	\arrow["{h_1}", from=3-1, to=3-3]
	\arrow["{h_2}", from=3-3, to=3-5]
	\arrow["{h_3}", from=3-5, to=3-7]
	\arrow["{h_4}", from=3-7, to=3-9]
\end{tikzcd}\]
and $f_i$ are $R$-module homomorphisms. Then we have that:
\begin{enumerate}
    \item If $f_5$ is injective and $f_2, f_4$ are surjective, then $f_3$ is surjective.
    \item If $f_1$ is surjective and $f_2, f_4$ are injective, then $f_3$ is injective.
\end{enumerate}
\end{pro}
\begin{proof}
    We first show surjectivity. Suppose as assumed in the first statement. Let $n\in N_3$. Then $h_4(h_3(n))=0\in N_5$. Since $f_4$ is surjective, there exists $m\in M_4$ such that $f_4(m)=h_3(n)\in N_4$. Sending $m$ along two routes we have
    \[f_5(g_4(m)) = h_4(f_4(m)) = h_4(h_3(n)) = 0\in N_5 \]
    Since $f_5$ is injective, we have $g_4(m)=0\in M_5$, implying that $m\in \ker g_4$. Due to the exactness we have that $m\in \im g_3$, so there exists $a\in M_3$ such that $g_3(a)=m\in M_4$. Again, sending $a\in M_3$ along two routes we have
    \[h_3(f_3(a)) = f_4(g_3(a)) = f_4(m)=h_3(m)\]
    And thus $h_3(f_3(a)-m)=0$, implying that $f_3(a)-m\in \ker h_3 = \im h_2$, and so there is $b\in N_2$ such that $h_2(b)=f_3(a)-m\in N_3$. Note $f_2$ is surjective, so there exists $c\in M_2$ such that $f_2(c)=b\in N_2$. Sending $c\in M_2$ along two different routes we have
    \[f_3(h_2(c)) = h_2(f_2(c)) = h_2(b) = f_3(a)-m \in N_3\]
    Rearranging the equation we get $f_3(a-h_2(c))=m$. This proves that $f_3$ is surjective.

    We now show injectivity. Suppose as assumed in the second statement. It suffices to show that $\ker f_3$ is trivial. Let $m\in M_3$ such that $f_3(m)=0$. Sending $m\in M_3$ along two routes we get 
    \[f_4(g_3(m)) = h_3(f_3(m)) = h_3(0) = 0\in N_4\]
    Since $f_4$ is injective, so $g_3(m)=0\in M_4$. This implies that $m\in \ker g_3 = \im g_2$, so there exists $a\in M_2$ such that $g_2(a)=m\in M_3$. Sending $a\in M_2$ along two routes, we have
    \[h_2(f_2(a)) = f_3(g_2(a)) = f_3(m) = 0\]
    So $f_2(a)\in \ker h_2 = \im h_1$, implying that there exists $n\in N_1$ such that $h_1(n) = f_2(a)\in N_2$. Since $f_1$ is surjective, so there exists $b\in M_1$ such that $f_1(b) = n$. Sending $b\in M_1$ along two routes we have
    \[f_2(g_1(b)) = h_1(f_1(b)) = h_1(n) = f_2(a)\]
    Rearranging the equation we get $f_2(g_1(b)-a) = 0\in N_2$. Since $f_2$ is injective, so $g_1(b)-a = 0\in N_2$, which by rearranging we have $g_1(b)=a$. Lastly, send $b\in M_1$ to $M_3$ via compositing $g_1$ and $g_2$, which we get a zero map:
    \[g_2(g_1(b)) = 0\in M_3\]
    Since $g_1(b)=a$, we have that $g_2(a) = 0\in M_3$. Recall that $g_2(a)=m\in M_3$, so together we have that $m=0\in M_3$. This shows that $\ker f_3$ is trivial.
\end{proof}

\begin{defn} [Splitting sequence]
    A SES $0\to X\xrightarrow{\alpha}Y\xrightarrow{\beta}Z\to 0$ splits if there exists a submodule $Y'\subseteq Y$ such that $Y= Y'\oplus \alpha(X)$.
\end{defn}

\medskip

\begin{re}
    Note that if a SES splits, then we have that
    \[Y'\cong Y/\alpha(X)= Y/\im \alpha = Y/\ker\beta \cong Z\]
    Moreover, since $\alpha$ is injective, so $\alpha(X)\cong X$ and  we have $Y\cong X\oplus Z$. To conclude, a SES splits implies that $Y\cong X\oplus Z$. However, the converse is not true.
\end{re}

\medskip

\begin{pro} \label{pro: SES splits}
    Let $0\to X\xrightarrow{\alpha}Y\xrightarrow{\beta}Z\to 0$ be a SES. TFAE:
    \begin{enumerate}
        \item The SES splits.
        \item $\exists \gamma:Z\to Y$ is an $R$-module homomorphism such that $\beta\circ \gamma = \id_Z$
        \item $\exists \delta: Y\to X$ is an $R$-module homomorphism such that $\delta\circ \alpha = \id_X$
        \item $\exists \varphi:Y\to X\oplus Z$ such that $\varphi\circ \alpha = \iota:X\to X\oplus Z$ is the inclusion map and $\beta\circ \varphi^{-1}=\pi:X\oplus Z\to Z$ is the canonical map.
    \end{enumerate}
\end{pro}
\begin{proof}
    The logic chain of the proof is $1.\implies 2.\implies 3.\implies 4.\implies 1.$.

    $[1.\implies 2.]$. Suppose that the SES splits, so let $Y'\subseteq Y$ be such that $Y=Y'\oplus \alpha(X)$. We define the map $\gamma:Z\to Y$ where $z\mapsto \gamma(z)$ such that $\gamma(z)$ is defined via the following procedure
    \begin{itemize}
        \item Since $\im \beta = \ker 0 = Z$, so there exists $y\in Y$ such that $\beta(y)=z$.
        \item Since $Y=Y'\oplus \alpha(X)$, we can write $y=a+b$ by some $a\in Y'$ and $b\in \alpha(X)$.
        \item Then we define $\gamma(z):=a$.
    \end{itemize}
    We first claim that $\gamma$ is well-defined. Suppose that $\beta(y') = z = \beta(y)$ for some other $y'\in Y$ where $y'= a'+b'$ where $a'\in Y'$ and $b'\in \alpha(X)$. Note $\beta(y-y')=0$, so $y-y'\in \ker \beta = \im \alpha = \alpha(X)$. We can write
    \[y-y' = (a-a')+(b-b')\]
    Since $y-y'\in \alpha(X)$, so $a-a'$ must be the zero element, which shows that $a=a'$. This implies that $\gamma(z) = a = a'$, so $\gamma$ is well-defined. Next, we show that $\gamma$ is an $R$-module homomorphism, i.e. we show that $\gamma(rz) = r\gamma(z)$. Let $\beta(y)=z$. Note that 
    \[\beta(ry)=r\beta(y)=rz\]
    On the other hand, we have $ry=r(a+b) = ra+rb$. Since $Y'$ and $\alpha(X)$ are $R$-modules, so $ra\in Y'$ and $rb\in \alpha(X)$, implying that $ry\in Y'\oplus \alpha(X)$. Therefore
    \[\gamma(rz) = ra = r\gamma(z)\]
    This shows that $\gamma$ is an $R$-module homomorphism. Lastly, we check the requirement: for any $z\in Z$, let $\gamma(z)=a$, then 
    \[\beta(\gamma(z)) = \beta(a) \stackrel{(*)}= \beta(y)=z\]
    where the stared equality is achieved as followed: since $y\in Y=Y'\oplus\alpha(X)$, so we can write $y=a+b$ such that $a\in Y'$ and $b\in \alpha(X)$. Let $b=\alpha(x)$. Together, we see
    \[\beta(y) = \beta(a+b) = \beta(a) + \beta(b) = \beta(a) + \beta(\alpha(x)) = \beta(a)\]
    since $\beta\circ\alpha$ is zero map due to exactness. This shows that $\beta\circ \gamma = \id_Z$.
        
    $[2.\implies 3.]$. Suppose that we have an $R$-module homomorphism $\gamma:Z\to Y$ such that $\beta\circ\gamma = \id_Z$. We define $\delta:Y\to X$ such that $y\mapsto \delta(y)$ where $\delta(y)$ is defined as follow:
    \begin{itemize}
        \item Note that $\beta(y-\gamma(\beta(y))) = \beta(y) -\beta(\gamma(\beta(y))) = \beta(y) - \beta(y)=0$
        \item It implies that $y-\gamma(\beta(y))\in \ker \beta = \im \alpha$, so there exists $x\in X$ such that $\alpha(x) = y-\gamma(\beta(y))$.
        \item We then define $\delta(y):=x$.
    \end{itemize}
    We first show that $\delta$ is well-defined. Note that the map from $0$ to $X$ is a zero map, so $\ker \alpha =\im 0$ is trivial, meaning that $\alpha$ is injective. Since $\delta$ is defined via $\alpha$, so consequently $\delta$ must be injective. Next we show that $\delta$ is an $R$-module homomorphism. To compute $\delta(ry)$, consider:
    \[ry-\func{\gamma}{\func{\beta}{ry}} = r(y-\func{\gamma}{\beta(y)}) = r\alpha(x) = \alpha(rx)\]
    So $\delta(ry)=rx = r\delta(y)$. This shows that $\delta$ is an $R$-module homomorphism. Lastly, we check the requirement: to compute $\delta(\alpha(x))$, consider:
    \[\alpha(x) - \gamma(\beta(\alpha(x))) = \alpha(x) - \gamma(0) = \alpha(x)\]
    due to the exactness. So $\delta(\alpha(x)) = x$.  This shows that $\delta\circ \alpha = \id_X$.
    
    $[3.\implies 4.]$. Suppose we have an $R$-module homomorphism $\delta:Y\to X$ such that $\delta\circ \alpha = \id_X$. Define $\varphi:Y\to X\oplus Z$ such that $y\mapsto (\delta(y),\ \beta(y))$. We have then have the following diagram: 
    \[\begin{tikzcd}[sep=small]
	0 && X && Y && Z && 0 \\
	\\
	0 && X && {X\oplus Z} && Z && 0
	\arrow["0", from=1-1, to=1-3]
	\arrow["\id", tail reversed, from=1-1, to=3-1]
	\arrow["\alpha"', from=1-3, to=1-5]
	\arrow["\id", tail reversed, from=1-3, to=3-3]
	\arrow["\delta"'{pos=0.4}, shift right, curve={height=12pt}, from=1-5, to=1-3]
	\arrow["\beta"', from=1-5, to=1-7]
	\arrow["\varphi", from=1-5, to=3-5]
	\arrow["0", from=1-7, to=1-9]
	\arrow["\id", tail reversed, from=1-7, to=3-7]
	\arrow["\id", tail reversed, from=1-9, to=3-9]
	\arrow["0", from=3-1, to=3-3]
	\arrow["\iota", from=3-3, to=3-5]
	\arrow["\pi", from=3-5, to=3-7]
	\arrow["0", from=3-7, to=3-9]
\end{tikzcd}\]
    where $\iota:X\to X\oplus Z$ is the inclusion map $x\mapsto (x,0)$ and $\pi$ is the canonical map onto $Z$. We examine the two requirements. For the first one:
    \[\varphi(\alpha(x)) =(\delta(\alpha(x)), \beta(\alpha(x))) = (x, 0) = \iota(x)\]
    For the second one:
    \[\pi(\varphi(y)) = \pi(\delta(y), \beta(y)) = \beta(y)\]
    This shows $\pi\circ \varphi = \beta$, and thus $\beta\circ \varphi^{-1} = \pi$.
    
    $[4.\implies 1.]$. Suppose as assumed in the given condition. We have the following diagram:
    \[\begin{tikzcd}[sep=small]
	&&&& y && {\beta(y)} \\
	0 && X && Y && Z && 0 \\
	\\
	0 && X && {X\oplus Z} && Z && 0 \\
	&&&& {(0, \beta(y))} && {\beta(y)}
	\arrow[maps to, from=1-5, to=1-7]
	\arrow["\in"{marking, allow upside down}, draw=none, from=1-5, to=2-5]
	\arrow["\in"{marking, allow upside down}, draw=none, from=1-7, to=2-7]
	\arrow[curve={height=-24pt}, maps to, from=1-7, to=5-7]
	\arrow["0", from=2-1, to=2-3]
	\arrow["\id", tail reversed, from=2-1, to=4-1]
	\arrow["\alpha"', from=2-3, to=2-5]
	\arrow["\id", tail reversed, from=2-3, to=4-3]
	\arrow["\beta"', from=2-5, to=2-7]
	\arrow["\varphi", from=2-5, to=4-5]
	\arrow["0", from=2-7, to=2-9]
	\arrow["\id", tail reversed, from=2-7, to=4-7]
	\arrow["\id", tail reversed, from=2-9, to=4-9]
	\arrow["0", from=4-1, to=4-3]
	\arrow["\iota", from=4-3, to=4-5]
	\arrow["\pi", from=4-5, to=4-7]
	\arrow["0", from=4-7, to=4-9]
	\arrow["\in"{marking, allow upside down}, draw=none, from=5-5, to=4-5]
	\arrow[maps to, from=5-5, to=5-7]
	\arrow["\in"{marking, allow upside down}, draw=none, from=5-7, to=4-7]
\end{tikzcd}\]
    To show that the SES splits, define $Y' = \varphi^{-1}(0\oplus Z)$. Since $0$ and $Z$ are modules, and $\varphi$ is module homomorphism, so $Y'$ is a module, and is thus a submodule of $Y$. We claim that $Y=Y' \oplus \im \alpha$. By assumption $\varphi\circ \alpha = \iota$, so $\alpha = \varphi^{-1} \circ \iota$. Next, note that $\varphi^{-1}:X\oplus Z \to Y$, so
    \[Y' =\varphi^{-1}(X\oplus 0) \oplus \varphi^{-1}(0\oplus Z)  = \varphi^{-1}(\iota(X)) \oplus Y'= \alpha(X) \oplus Y'\]
    This completes the proof.
\end{proof}

